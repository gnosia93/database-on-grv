## 마이그레이션 하기 ##

카프카 ARN 및 브로커 리스트를 조회한다.
```
KAFKA_ARN=$(aws kafka list-clusters --query "ClusterInfoList[?ClusterName=='msk-grav'].ClusterArn" --output text)
BROKER_STRING=$(aws kafka get-bootstrap-brokers --cluster-arn ${KAFKA_ARN} --query BootstrapBrokerString)
```


* ec2 에서 카프카 어플리케이션을 실행하고, 그라비톤으로 전환한다... 다운 타임이 불필요한것을 확인할 수 있다..










브로커 타입을 그라비톤으로 변경한다. 
```
aws kafka update-broker-type --cluster-arn ${KAFKA_ARN} --current-version "3.6.0" \
--target-instance-type "kafka.m7g.xlarge"
```



## 레퍼런스 ##

* https://docs.aws.amazon.com/msk/latest/developerguide/get-bootstrap-cli.html
* https://docs.aws.amazon.com/cli/latest/reference/kafka/update-broker-type.html
* https://techblog.gccompany.co.kr/aws-msk-part2-msk-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A5%BC-%EA%B5%AC%EC%B6%95%ED%95%B4%EB%B3%BC%EA%B9%8C%EC%9A%94-8722c79d9041
* https://dev-records.tistory.com/entry/%ED%8C%8C%EC%9D%B4%EC%8D%AC%EC%9C%BC%EB%A1%9C-Kafka-%EA%B0%84%EB%8B%A8%ED%95%9C-%EC%98%88%EC%A0%9C
